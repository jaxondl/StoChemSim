(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     15169,        382]
NotebookOptionsPosition[     13121,        340]
NotebookOutlinePosition[     13524,        356]
CellTagsIndexPosition[     13481,        353]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Setup Instructions for CRNSSA", "Title",
 CellChangeTimes->{{3.824211999682989*^9, 
  3.8242120180817876`*^9}},ExpressionUUID->"4c0eacd2-d689-4e3a-90b5-\
2d666b6e6543"],

Cell[TextData[{
 "1. Clone the GitHub repo ",
 StyleBox["crn-ssa-wolfram-pkg", "Code"],
 " with the URL ",
 StyleBox["https://github.com/jaxondl/crn-ssa-wolfram-pkg.git", "Code"],
 ".\n2. Ensure that Wolfram Mathematica 12 is installed."
}], "Text",
 CellChangeTimes->{{3.8242120280591063`*^9, 3.824212029170171*^9}, {
   3.824212064858651*^9, 3.8242121450655775`*^9}, 3.824217196140025*^9, {
   3.8242172357083006`*^9, 
   3.824217247452568*^9}},ExpressionUUID->"950455de-c7d2-4e73-bbdd-\
36296d67d0a7"],

Cell[CellGroupData[{

Cell[BoxData["$VersionNumber"], "Input",
 CellChangeTimes->{{3.824212116815961*^9, 3.824212120345524*^9}},
 CellLabel->"In[1]:=",ExpressionUUID->"db78ec2f-a791-419d-9f93-b8b8b21d85b8"],

Cell[BoxData["12.1`"], "Output",
 CellChangeTimes->{3.8242121211822834`*^9, 3.8242171338144045`*^9, 
  3.8242363914295807`*^9, 3.824237434726559*^9, 3.824237475551791*^9},
 CellLabel->"Out[1]=",ExpressionUUID->"52f678fb-2734-48cf-81a3-202574dfc859"]
}, Open  ]],

Cell["3. Type the local path to the cloned repo here.", "Text",
 CellChangeTimes->{{3.8242121556333165`*^9, 3.8242121667545743`*^9}, {
   3.8242122016250706`*^9, 3.8242122278649*^9}, {3.824212280960913*^9, 
   3.8242123390735483`*^9}, {3.8242128030350933`*^9, 3.824212813869684*^9}, {
   3.824216314032653*^9, 3.824216314424652*^9}, 3.8242171905726213`*^9, {
   3.824217230533865*^9, 
   3.824217231827609*^9}},ExpressionUUID->"eefcc0d5-64ec-487b-8ada-\
588e01185a20"],

Cell[BoxData[
 RowBox[{
  RowBox[{"repoPath", "=", "\"\<C:\\\\Users\\\\jaxon\\\\Documents\>\""}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.82421234662831*^9, 3.824212379401669*^9}},
 CellLabel->"In[2]:=",ExpressionUUID->"0eee6bd3-990b-4834-9dfd-047e55459c13"],

Cell["4. Run this cell to install the interface library.", "Text",
 CellChangeTimes->{{3.824212387377584*^9, 3.824212409681095*^9}, {
  3.824215957149396*^9, 3.824215972190756*^9}, {3.824216311088166*^9, 
  3.824216311472187*^9}},ExpressionUUID->"f9ae4b93-3271-4901-8c7b-\
5154d71210c5"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"<<", "CCompilerDriver`"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
  "relativePath", "=", 
   "\"\<crn-ssa-wolfram-pkg\\\\sequential\\\\interface\\\\directSSAInterface-\
aio.cpp\>\""}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fullPath", "=", 
   RowBox[{"FileNameJoin", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"repoPath", ",", "relativePath"}], "}"}], ",", 
     RowBox[{"\"\<OperatingSystem\>\"", "\[Rule]", "$OperatingSystem"}]}], 
    "]"}]}], ";"}], "\n", 
 RowBox[{"library", "=", 
  RowBox[{"CreateLibrary", "[", 
   RowBox[{
    RowBox[{"{", "fullPath", "}"}], ",", "\"\<directSSAInterface\>\""}], 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.8242124115859995`*^9, 3.824212426066324*^9}, {
  3.824212602345129*^9, 3.8242126511191797`*^9}, {3.824212707300028*^9, 
  3.824212765442621*^9}, {3.824212835130954*^9, 3.8242128609530597`*^9}, {
  3.8242129809419565`*^9, 3.82421302275965*^9}, {3.8242155729135494`*^9, 
  3.8242155750880337`*^9}, {3.824236360106598*^9, 3.824236360537373*^9}, {
  3.8242374517311554`*^9, 3.8242374520901194`*^9}},
 CellLabel->"In[3]:=",ExpressionUUID->"57486241-4bc7-4c95-b67f-1dfa27b33a91"],

Cell[BoxData["\<\"C:\\\\Users\\\\jaxon\\\\AppData\\\\Roaming\\\\Mathematica\\\
\\SystemFiles\\\\LibraryResources\\\\Windows-x86-64\\\\directSSAInterface.dll\
\"\>"], "Output",
 CellChangeTimes->{
  3.8242129991256504`*^9, {3.824215579653351*^9, 3.824215593603798*^9}, 
   3.8242171442510505`*^9, 3.8242364102770395`*^9, 3.824237443273325*^9, 
   3.8242374867907104`*^9},
 CellLabel->"Out[6]=",ExpressionUUID->"8dc6037f-2212-4702-8614-e089c0ad042c"]
}, Open  ]],

Cell[TextData[{
 "5. Install the CRNSSA package by going to ",
 StyleBox["File -> Install", "Code"],
 ". Set the type as ",
 StyleBox["Package", "Code"],
 " and use ",
 StyleBox["crn-ssa-wolfram-pkg\\\\wolfram\\\\CRNSSA.wl", "Code"],
 " as the source. Use install name ",
 StyleBox["CRNSSA", "Code"],
 ".\n6. Run this cell to load the package in this notebook."
}], "Text",
 CellChangeTimes->{{3.824215627021496*^9, 3.8242157193176284`*^9}, {
  3.824215800992221*^9, 3.824215995930647*^9}, {3.8242160613459015`*^9, 
  3.824216064210594*^9}, {3.8242163085037603`*^9, 3.82421630890374*^9}, {
  3.824217269982453*^9, 
  3.824217274663184*^9}},ExpressionUUID->"e6311312-7ab8-419a-a166-\
89ea718500da"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"<<", "CRNSSA`"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"?", "CRNSSA`*"}]}], "Input",
 CellChangeTimes->{{3.8242159989339485`*^9, 3.824216003475569*^9}, {
  3.8242160855740786`*^9, 3.824216093846967*^9}},
 CellLabel->"In[7]:=",ExpressionUUID->"cfc16dd4-a171-4830-82e4-760d9da131cc"],

Cell[BoxData[
 StyleBox[
  FrameBox[GridBox[{
     {
      DynamicModuleBox[{Typeset`open$$ = True}, 
       PaneSelectorBox[{False->
        ButtonBox[
         RowBox[{
          
          DynamicBox[FEPrivate`FrontEndResource[
           "FEBitmaps", "RightPointerOpener"]], " ", 
          StyleBox["CRNSSA`", "InformationGridGroupHeader"]}],
         Appearance->None,
         BaseStyle->"InformationGridLink",
         ButtonFunction:>FEPrivate`Set[Typeset`open$$, True],
         Evaluator->Automatic,
         Method->"Preemptive"], True->
        PaneBox[GridBox[{
           {
            ButtonBox[
             RowBox[{
              
              DynamicBox[FEPrivate`FrontEndResource[
               "FEBitmaps", "DownPointerOpener"],
               ImageSizeCache->{10., {2., 8.}}], " ", 
              StyleBox["CRNSSA`", "InformationGridGroupHeader"]}],
             Appearance->None,
             BaseStyle->"InformationGridLink",
             ButtonFunction:>FEPrivate`Set[Typeset`open$$, False],
             Evaluator->Automatic,
             Method->"Preemptive"]},
           {
            PaneBox[GridBox[{
               {
                ButtonBox[
                 StyleBox["DirectSSA", "InformationGridButton"],
                 Appearance->None,
                 BaseStyle->"InformationGridLink",
                 
                 ButtonData:>{
                  "Info-c6683c7b-a6cd-429e-81ab-cbdbf63a4e25", {
                   "DirectSSA", "CRNSSA`"}, False},
                 ButtonNote->"CRNSSA`",
                 Evaluator->Automatic], 
                ButtonBox[
                 StyleBox["GetSpecies", "InformationGridButton"],
                 Appearance->None,
                 BaseStyle->"InformationGridLink",
                 
                 ButtonData:>{
                  "Info-c6683c7b-a6cd-429e-81ab-cbdbf63a4e25", {
                   "GetSpecies", "CRNSSA`"}, False},
                 ButtonNote->"CRNSSA`",
                 Evaluator->Automatic], 
                ButtonBox[
                 StyleBox["init", "InformationGridButton"],
                 Appearance->None,
                 BaseStyle->"InformationGridLink",
                 
                 ButtonData:>{
                  "Info-c6683c7b-a6cd-429e-81ab-cbdbf63a4e25", {
                   "init", "CRNSSA`"}, False},
                 ButtonNote->"CRNSSA`",
                 Evaluator->Automatic], 
                ButtonBox[
                 StyleBox["PlotLastSimulation", "InformationGridButton"],
                 Appearance->None,
                 BaseStyle->"InformationGridLink",
                 
                 ButtonData:>{
                  "Info-c6683c7b-a6cd-429e-81ab-cbdbf63a4e25", {
                   "PlotLastSimulation", "CRNSSA`"}, False},
                 ButtonNote->"CRNSSA`",
                 Evaluator->Automatic], 
                ButtonBox[
                 StyleBox["revrxn", "InformationGridButton"],
                 Appearance->None,
                 BaseStyle->"InformationGridLink",
                 
                 ButtonData:>{
                  "Info-c6683c7b-a6cd-429e-81ab-cbdbf63a4e25", {
                   "revrxn", "CRNSSA`"}, False},
                 ButtonNote->"CRNSSA`",
                 Evaluator->Automatic], 
                ButtonBox[
                 StyleBox["rxn", "InformationGridButton"],
                 Appearance->None,
                 BaseStyle->"InformationGridLink",
                 
                 ButtonData:>{
                  "Info-c6683c7b-a6cd-429e-81ab-cbdbf63a4e25", {
                   "rxn", "CRNSSA`"}, False},
                 ButtonNote->"CRNSSA`",
                 Evaluator->Automatic]}
              },
              DefaultBaseStyle->"Text",
              
              GridBoxAlignment->{
               "Columns" -> {{Left}}, "Rows" -> {{Baseline}}},
              GridBoxItemSize->{"Columns" -> {{
                   Scaled[0.15833333333333333`]}}}],
             ImageMargins->{{10, 0}, {0, 2}}]}
          },
          GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}}],
         FrameMargins->{{0, 0}, {8, 0}}]}, Dynamic[Typeset`open$$],
        ImageSize->Automatic]]}
    },
    GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}},
    GridBoxDividers->{"ColumnsIndexed" -> {{False}}, "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.5599999999999999]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.8]}, 
        Offset[0.2]}}],
   BaseStyle->"InformationTitleFrame"], "InformationGridPlain"]], "Output",
 CellChangeTimes->{3.824216098086195*^9, 3.8242164707768364`*^9, 
  3.8242168214737387`*^9, 3.82421687446029*^9, 3.82421693939506*^9, 
  3.82421697535682*^9, 3.8242170313899016`*^9, 3.82421714688717*^9, 
  3.824236412930467*^9, 3.824237488851367*^9},
 CellLabel->"Out[8]=",ExpressionUUID->"e2ef49f4-9696-4ea7-a813-268906ad5404"]
}, Open  ]],

Cell[TextData[{
 "7. Run the following cells to simulate a simple CRN. The final state should \
be ",
 StyleBox["{0, 1}", "Code"],
 "."
}], "Text",
 CellChangeTimes->{{3.8242162879970107`*^9, 3.824216306392149*^9}, {
  3.8242164805648613`*^9, 3.82421648704533*^9}, {3.8242165270821643`*^9, 
  3.824216535603452*^9}, {3.82421728816778*^9, 
  3.8242172910954056`*^9}},ExpressionUUID->"8872dfa3-38dc-489c-a312-\
90890b1566aa"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"rxnsys", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"rxn", "[", 
      RowBox[{"x", ",", "y", ",", "1"}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"rxn", "[", 
      RowBox[{
       RowBox[{"y", "+", "y"}], ",", "y", ",", "1"}], "]"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"init", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"x", ",", " ", "y"}], "}"}], ",", "5"}], "]"}]}], 
    "\[IndentingNewLine]", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"GetSpecies", "[", "rxnsys", "]"}]}], "Input",
 CellChangeTimes->{{3.8242163796328516`*^9, 3.8242163841453323`*^9}},
 CellLabel->"In[9]:=",ExpressionUUID->"7028c93a-93a0-4895-a49b-8bddf4b62ed5"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"x", ",", "y"}], "}"}]], "Output",
 CellChangeTimes->{3.824216390209857*^9, 3.824216473094953*^9, 
  3.824216825102227*^9, 3.8242170337497163`*^9, 3.824217149167162*^9, 
  3.824237494937446*^9},
 CellLabel->"Out[10]=",ExpressionUUID->"ab5940c5-6e4a-4513-8050-8a5d6a66c1fb"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"{", 
   RowBox[{"states", ",", "times"}], "}"}], "=", 
  RowBox[{"DirectSSA", "[", 
   RowBox[{"rxnsys", ",", 
    RowBox[{"\"\<finalOnly\>\"", "\[Rule]", "True"}], ",", 
    RowBox[{"\"\<outputTS\>\"", "\[Rule]", "False"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.8242164020675693`*^9, 3.8242164151971035`*^9}, {
  3.824216492719846*^9, 3.824216513553684*^9}, {3.8242170418205566`*^9, 
  3.824217108310268*^9}, {3.824237506234483*^9, 3.8242375159849052`*^9}},
 CellLabel->"In[11]:=",ExpressionUUID->"bdafe20b-3b9c-4c0e-b892-cd074ff68bfc"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}], "}"}], ",", 
   RowBox[{"{", "2.4980359892426653`", "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.824216405986579*^9, 3.824216473735287*^9, 3.8242165154029665`*^9, 
   3.824216825951003*^9, {3.824217034691247*^9, 3.8242171086533937`*^9}, 
   3.8242171516476593`*^9, 3.8242375186537046`*^9},
 CellLabel->"Out[11]=",ExpressionUUID->"1b5a3249-60c6-4ffe-87ad-f777db7e48b9"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1428., 741.75},
WindowMargins->{{Automatic, 960}, {Automatic, 0}},
FrontEndVersion->"12.1 for Microsoft Windows (64-bit) (June 19, 2020)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"28a0dba9-dcfe-4840-9f91-438146278593"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 174, 3, 97, "Title",ExpressionUUID->"4c0eacd2-d689-4e3a-90b5-2d666b6e6543"],
Cell[757, 27, 504, 11, 56, "Text",ExpressionUUID->"950455de-c7d2-4e73-bbdd-36296d67d0a7"],
Cell[CellGroupData[{
Cell[1286, 42, 184, 2, 28, "Input",ExpressionUUID->"db78ec2f-a791-419d-9f93-b8b8b21d85b8"],
Cell[1473, 46, 249, 3, 32, "Output",ExpressionUUID->"52f678fb-2734-48cf-81a3-202574dfc859"]
}, Open  ]],
Cell[1737, 52, 468, 7, 34, "Text",ExpressionUUID->"eefcc0d5-64ec-487b-8ada-588e01185a20"],
Cell[2208, 61, 260, 5, 28, "Input",ExpressionUUID->"0eee6bd3-990b-4834-9dfd-047e55459c13"],
Cell[2471, 68, 287, 4, 34, "Text",ExpressionUUID->"f9ae4b93-3271-4901-8c7b-5154d71210c5"],
Cell[CellGroupData[{
Cell[2783, 76, 1179, 27, 85, "Input",ExpressionUUID->"57486241-4bc7-4c95-b67f-1dfa27b33a91"],
Cell[3965, 105, 448, 7, 32, "Output",ExpressionUUID->"8dc6037f-2212-4702-8614-e089c0ad042c"]
}, Open  ]],
Cell[4428, 115, 697, 16, 56, "Text",ExpressionUUID->"e6311312-7ab8-419a-a166-89ea718500da"],
Cell[CellGroupData[{
Cell[5150, 135, 320, 6, 47, "Input",ExpressionUUID->"cfc16dd4-a171-4830-82e4-760d9da131cc"],
Cell[5473, 143, 4995, 121, 91, "Output",ExpressionUUID->"e2ef49f4-9696-4ea7-a813-268906ad5404"]
}, Open  ]],
Cell[10483, 267, 423, 10, 34, "Text",ExpressionUUID->"8872dfa3-38dc-489c-a312-90890b1566aa"],
Cell[CellGroupData[{
Cell[10931, 281, 744, 18, 122, "Input",ExpressionUUID->"7028c93a-93a0-4895-a49b-8bddf4b62ed5"],
Cell[11678, 301, 312, 6, 32, "Output",ExpressionUUID->"ab5940c5-6e4a-4513-8050-8a5d6a66c1fb"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12027, 312, 577, 11, 28, "Input",ExpressionUUID->"bdafe20b-3b9c-4c0e-b892-cd074ff68bfc"],
Cell[12607, 325, 486, 11, 32, "Output",ExpressionUUID->"1b5a3249-60c6-4ffe-87ad-f777db7e48b9"]
}, Open  ]]
}, Open  ]]
}
]
*)

